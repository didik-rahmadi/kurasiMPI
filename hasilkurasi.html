<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hasil Kurasi</title>
<link rel="stylesheet" href="styles.css">
</head>

<body>

<header>
  <div class="logo-group">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Logo_of_Ministry_of_Education_and_Culture_of_Republic_of_Indonesia.svg/1200px-Logo_of_Ministry_of_Education_and_Culture_of_Republic_of_Indonesia.svg.png" id="logoHeader">
    <img src="https://trigger.id/wp-content/uploads/2025/05/pendidikan-1024x452.png">
    <img src="https://kemendikdasmen.go.id/kem_base/static/src/img/ramah.png">
    <img src="https://cdn-sdotid.adg.id/images/70b5e75c-f103-4e51-9b76-432a91d07494_980x382.png">
  </div>

  <h1>Kurasi Media Pembelajaran Interaktif Jilid 2</h1>
  <h1>Direktorat Sekolah Dasar</h1>
  <h2 class="sub-header-line">Direktorat Jenderal PAUD, Dikdas, dan Dikmen</h2>
  <h2 class="sub-header-line">Kementerian Pendidikan Dasar dan Menengah</h2>
  <div class="muted">Pilih kreator untuk melihat hasil kurasi.</div>

  <div class="controls">
    <select id="creator"></select>
    <button class="btn btn-primary" onclick="loadContents()">Lihat Hasil Kurasi</button>
    <button class="btn btn-secondary" onclick="location.href='index.html'">Kembali</button>
  </div>
</header>

<div id="contentList" class="card"></div>
<div id="detail" class="card"></div>

<script>
const API_URL = "PASTE_URL_WEBAPP_ANDA_DI_SINI";

function loadCreators(){
  fetch(API_URL+'?action=creators')
    .then(r=>r.json())
    .then(d=>{
      creator.innerHTML='<option value=""></option>';
      d.forEach(n=>creator.innerHTML+=`<option>${n}</option>`);
    });
}

function loadContents(){
  const c = creator.value;
  if(!c) return;

  fetch(API_URL+'?action=contents&creator='+encodeURIComponent(c))
    .then(r=>r.json())
    .then(d=>{
      contentList.innerHTML = d.map(it=>`
        <div class="content-item" onclick="loadDetail(${it.rowNumber})">
          <b>${it.identitas.E}</b><br>
          ${it.identitas.F} | ${it.identitas.G}
        </div>
      `).join('');
    });
}

function loadDetail(row){
  fetch(API_URL+'?action=detail&row='+row)
    .then(r=>r.json())
    .then(d=>{
      detail.innerHTML = d.qa.map(q=>`
        <p><b>${q.pertanyaan}</b></p>
        <div>${q.jawaban.join('<br>')}</div>
      `).join('');
    });
}

loadCreators();
</script>
</body>
</html>
